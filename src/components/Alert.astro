---
export interface Props {
  type?: 'info' | 'warning' | 'success' | 'error';
  title?: string;
  class?: string;
}

const { type = 'info', title, class: className = '' } = Astro.props;

const typeClasses = {
  info: 'alert-info',
  warning: 'alert-warning', 
  success: 'alert-success',
  error: 'alert-error'
};

const typeIcons = {
  info: 'üí°',
  warning: '‚ö†Ô∏è',
  success: '‚úÖ',
  error: '‚ùå'
};
---

<div class={`alert ${typeClasses[type]} ${className}`}>
  <div class="alert-header">
    <span class="alert-icon">{typeIcons[type]}</span>
    {title && <h4 class="alert-title">{title}</h4>}
  </div>
  <div class="alert-content">
    <slot />
  </div>
</div>

<style>
  .alert {
    background: var(--bg-tertiary);
    border: 1px solid var(--border-primary);
    border-left: 4px solid var(--accent-primary);
    border-radius: var(--radius-md);
    padding: var(--space-6);
    margin: var(--space-6) 0;
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
  }

  body.light-mode .alert {
    background-color: var(--bg-surface);
    border-color: var(--border-primary);
  }

  .alert-icon {
    flex-shrink: 0;
    font-size: var(--text-xl);
    color: var(--accent-primary);
    font-weight: var(--weight-semibold);
  }

  .alert-content {
    flex: 1;
  }

  .alert-title {
    color: var(--text-primary);
    font-size: var(--text-lg);
    font-weight: var(--weight-semibold);
    margin: 0 0 var(--space-3) 0;
  }

  .alert-body {
    color: var(--text-secondary);
    margin: 0;
    line-height: var(--leading-relaxed);
  }

  /* Type-specific left border colors */
  .alert-info {
    border-left-color: var(--accent-primary);
  }

  .alert-warning {
    border-left-color: #f59e0b;
  }

  .alert-success {
    border-left-color: #10b981;
  }

  .alert-error {
    border-left-color: #ef4444;
  }

  /* Type-specific icon colors */
  .alert-warning .alert-icon {
    color: #f59e0b;
  }

  .alert-success .alert-icon {
    color: #10b981;
  }

  .alert-error .alert-icon {
    color: #ef4444;
  }
</style>
